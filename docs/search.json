[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Crime in LA",
    "section": "",
    "text": "1 Introduction\nThis project aims to understand, analyze and visualize crimes committed in the United States. We have selected Los Angeles as the city on which we conduct our analysis. We are interested in finding out who the susceptible victims for certain crimes are. We have picked Los Angeles as it is a populous metropolitan city, with a diverse set of people living in it. There have been multiple studies and claims that portray certain groups, certain crimes and certain areas as more susceptible to danger. We want to see what the conclusions can be for Los Angeles.\nUSA Today claims that the crime rate in Los Angeles soared by 114% in certain neighborhoods from 2019 to 2022. These assertions piqued our interest in these questions[1].\nThe questions we want to answer are:\n\nWe want to know how factors like race, gender, area, time of crime and category of the crime affect the crime and who the victim might be.\nWe want to see if COVID-19 has affected crime rates and what that affect has been.\nHow the crime rates have progressed over the years for different neighborhoods.\nHow the factors of gender, race and age influence the likelihood of experiencing a crime of a sexual nature.\nDetermining what areas are good to live in according to crime rates and what crimes are prevalent in what areas.\n\nThis in turn can help us determine the likelihood of certain crime occurring based on the above factors and that would allow the respective authorities to take preventive measures such as government policies and gun-control rules. We will see if there correlation between the crimes and certain factors which can help us take decide on the precautionary measures to be taken in the future."
  },
  {
    "objectID": "data.html#description",
    "href": "data.html#description",
    "title": "2  Data",
    "section": "2.1 Description",
    "text": "2.1 Description\nThe data source that we draw on for the project is: https://catalog.data.gov/dataset/crime-data-from-2020-to-present , https://data.lacity.org/Public-Safety/Crime-Data-from-2020-to-Present/2nrs-mtv8 The data is collected by the Los Angeles Police Department (LAPD), via transcribing the original crime reports that are typed on paper.\nFormat of the data: CSV file\nFrequency of updates: The dataset is refreshed and updated weekly.\nDimensions of the data (as downloaded on 27 November, 2023): (843515, 28)\nColumns of the dataset:\n\nDR_NO\nDivision of Records Number: Official file number made up of a 2 digit year, area ID, and 5 digits\nDate Rptd [Date Reported]\nMM/DD/YYYY\nDATE OCC [Date occurred]\nMM/DD/YYYY\nTIME OCC [Time occurred]\nIn 24 hour military time\nAREA\nThe LAPD has 21 Community Police Stations referred to as Geographic Areas within the department. These Geographic Areas are sequentially numbered from 1-21.\nAREA NAME\nThe 21 Geographic Areas or Patrol Divisions are also given a name designation that references a landmark or the surrounding community that it is responsible for. For example 77th Street Division is located at the intersection of South Broadway and 77th Street, serving neighborhoods in South Los Angeles\nRpt Dist No\nA four-digit code that represents a sub-area within a Geographic Area. All crime records reference the “RD” that it occurred in for statistical comparisons\nPart 1-2\nNot explained\nCrm Cd\nIndicates the crime committed. (Same as Crime Code 1)\nCrm Cd Desc [Crime committed description]\nDefines the Crime Code provided.\nMocodes\nModus Operandi: Activities associated with the suspect in commission of the crime\nVict Age\nTwo character numeric\nVict Sex\nF - Female M - Male X - Unknown\nVict Descent\nDescent Code: A - Other Asian B - Black C - Chinese D - Cambodian F - Filipino G - Guamanian H - Hispanic/Latin/Mexican I - American Indian/Alaskan Native J - Japanese K - Korean L - Laotian O - Other P - Pacific Islander S - Samoan U - Hawaiian V - Vietnamese W - White X - Unknown Z - Asian Indian\nPremis Cd\nThe type of structure, vehicle, or location where the crime took place.\nPremis Desc\nDefines the Premise Code provided.\nWeapon Used Cd\nThe type of weapon used in the crime.\nWeapon Desc\nDefines the Weapon Used Code provided.\nStatus\nStatus of the case. (IC is the default)\nStatus Desc\nDefines the Status Code provided\nCrm Cd 1\nIndicates the crime committed. Crime Code 1 is the primary and most serious one. Crime Code 2, 3, and 4 are respectively less serious offenses. Lower crime class numbers are more serious.\nCrm Cd 2\nMay contain a code for an additional crime, less serious than Crime Code 1.\nCrm Cd 3\nMay contain a code for an additional crime, less serious than Crime Code 1\nCrm Cd 4\nMay contain a code for an additional crime, less serious than Crime Code 1\nLOCATION\nStreet address of crime incident rounded to the nearest hundred block to maintain anonymity.\nCross Street\nCross Street of rounded Address\nLAT\nLatitude\nLON\nLongitude\n\nEach row represents one crime occurrence and the details of the crime and the victim.\nKnown issues within the dataset: Since it consists of records that were typed on paper, it may have inaccuracies by humans. Additionally, the address fields are only provided to the nearest hundred block to maintain privacy. Location fields are missing in some cases, and have been replaced by (0°, 0°).\nDiscovered issues within the dataset:\n\nTime stamp in date columns are meaningless, since there is a time of occurrence column separately, and all the times in the date column are the beginning of the day.\nX is present in the victim description columns like sex and descent. We will consider these to be instances where the victim would have preferred to be anonymous.\nThere exist rows where though the sex and descent columns are meaningful (not X), the age column contains a 0 (which might seem impossible).\n\nWe plan to import the data by downloading the CSV data file onto our local computer, and then working with it in RStudio by reading this file using read.csv. After we write the code for our project including graphs etc., we will use GitHub to collaborate with each other and contribute to our project."
  },
  {
    "objectID": "data.html#research-plan",
    "href": "data.html#research-plan",
    "title": "2  Data",
    "section": "2.2 Research Plan",
    "text": "2.2 Research Plan\nTo answer our research questions listed in the introduction, we will follow the below plan.\n• Firstly, we will analyze the missing values in our dataset as follows:\n\nIf the victim description cells are blank with no value entered, we will drop those rows.\nWhile analysing how factors like victim sex and descent affect crime, if the crime committed is against an entity (for example shoplifting etc.), we will neglect the row. If the crime committed is against the person and the columns of sex and descent have ‘X’, then we will drop the rows.\nIf the age is 0 but the columns of sex and descent do not have an ‘X’ entry, we will drop the row considering an age of zero years impossible.\n\nThen we will proceed to answer our research questions by performing the following proposed visualizations:\n\nHow does the age factor affect the likelihood of a crime being committed against a victim?\n\nWe will plot a histogram with a 10-year grouping\n\nHow does the sex factor affect the likelihood of a crime being committed against a victim?\n\nWe will plot a bar chart, with the sex on the x-axis.\n\nHow does the descent factor affect the likelihood of a crime being committed against a victim?\n\nWe will plot a bar chart, with the descent on the x-axis.\n\nHow does the time of crime affect the likelihood of a crime being committed?\n\nWe will plot a histogram with an hourly grouping\n\nHow does crime progress over the years and how did the Covid-19 pandemic affect this?\n\nWe will utilize a time-series to visualize the number of crimes that took place over the range of date, which is 2020-present.\n\nWhat areas are best to live in according to crime occurrences, and which area is the best?\n\nWe will use a Biplot to find the best area to live in. A mosaic plot can be used to find the correlation between type of crime and area of occurrence.\n\nTo determine how factors like age, gender and race affect the likelihood of experiencing a crime of sexual nature?\n\nWe will utilize PCA to find out how much variance the variables capture for the crimes of sexual nature."
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.3 Missing value analysis",
    "text": "2.3 Missing value analysis\n\n\nCode\ndf &lt;- read.csv(\"/Users/anerimodi/Downloads/Crime_Data_from_2020_to_Present.csv\")\n\n\nOur first plot will showcase the percentage of missing values in each column so that we are made aware of the columns that have mostly missing values (that can be dropped or not be paid attention to in our analysis), and which will also let us understand which variables to focus on to see if there are patterns in missing value columns across crime records.\n\n\nCode\nlibrary(tidyverse)\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\nCode\n#Adding NA to blank values\ndf[df==\"\"]&lt;-NA \nmissing_percentage &lt;- (colSums(is.na(df)) / nrow(df)) * 100\n\n\nmissing_df &lt;- data.frame(\n  column = names(missing_percentage),\n  percentage = missing_percentage\n)\n\nmissing_df &lt;- missing_df[order(missing_df$percentage), ]\n\nggplot(missing_df, aes(x = reorder(column, percentage), y = percentage)) +\n  geom_bar(stat = \"identity\", fill = \"skyblue\") +\n  labs(\n    title = \"Percentage of Missing Values per Column\",\n    x = \"Column\",\n    y = \"Percentage of Missing Values\"\n  ) +\n  theme_minimal() +\n  coord_flip()\n\n\n\n\n\nFrom the above, we observe that Crm.Cd.4 and Crm.Cd.3 have close to 100% missing values (which are less serious crimes than code 1). The columns of Crm.Cd.2 and Cross.Street also have considerable amount of missing values (&gt;75%). Information of the weapon that was used encoded in columns like Weapon.Used.Cd and Weapon.Desc have more than 50% missing values, which makes sense because some crimes do not involve the use of weapons to be committed. Mocodes, Victim Age and Victim Sex are columns that have around 12% missing values, and their probable reasons have been stated previously in the research plan. Premise Description also has negligible but non-zero missing values in its column. The other columns have zero missing values.\nSo, to analyse the patterns in missing values across columns that have atleast one missing value (since our dataset is too large and analysing all records clearly will not be feasible), we will focus on those columns that firstly have atleast one missing value and secondly have the number of missing values in the range of 50 to 700000. This will allow us to ignore the Crm.Cd columns which are missing for most records, and observe the pattern that a random subset of 50 crime records have with respect to their values of the columns that satisfy this criteria. The subset of 50 is also chosen so that we clearly observe the records on the y axis.\n\n\nCode\nsubset_size &lt;- 50\n# Identify rows with missing values in specific columns\nrows_with_missing &lt;- which(apply(df, 1, function(x) any(is.na(x))))\n\n# Identify columns with missing values in the selected rows\ncolumns_with_missing &lt;- names(which(colSums(is.na(df[rows_with_missing, ])) &gt; 50 & colSums(is.na(df[rows_with_missing, ])) &lt; 700000))\n\n# Randomly subset rows with missing values in specific columns\nrandom_subset &lt;- df[sample(rows_with_missing, subset_size), columns_with_missing, drop = FALSE]\n\n\n\n\nCode\ntidydf &lt;- random_subset %&gt;% \n    rownames_to_column(\"id\") %&gt;% \n    gather(key, value, -id) %&gt;% \n    mutate(missing = ifelse(is.na(value), \"yes\", \"no\"))\n\nggplot(tidydf, aes(x = key, y = fct_rev(id), fill = missing)) +\n  geom_tile(color = \"white\") + \n  ggtitle(\"Missing Values of a Random Subset\") +\n  ylab('Crime ID') + \n  scale_fill_viridis_d() +\n  theme_bw()\n\n\n\n\n\nWe observe from the above plot that there is some correlation between the occurrence of a missing value entry for victim age and victim sex, since they both go missing simultaneously. This supports our hypothesis stated in the research plan, where we proposed that since the crime in such cases could be caused against some entity or company instead of a singular individual, such details become irrelevant and hence are missing.\nSince the missing value percentage of Premis.Desc column was very low, our random subset has no missing values in this column. As expected, on the other hand, the columns of Weapon related information have higher number of missing values since their percentage was higher too, hence records are more probable to have them missing (both missing at the same time). Mocodes which stands for Modus Operandi refers to activities associated with the suspect in commission of the crime. This also has a strong correlation with the victim age and sex in terms of missing values."
  },
  {
    "objectID": "results.html#terrifying-twenties",
    "href": "results.html#terrifying-twenties",
    "title": "3  Results",
    "section": "3.1 Terrifying Twenties…",
    "text": "3.1 Terrifying Twenties…\nThe age of the victim could prove to be useful to understand the psychology of criminals and the high-risk situations that lead to crime against certain individuals. Given in our dataframe is the age as an integer from 0 to 100, and to visualize the distribution of crime occurrence for different age groups, we will plot a histogram, with age bin width of 5 years.\n\n\nCode\ndf_plot&lt;-read.csv('/Users/anerimodi/Downloads/cleaned.csv')\ndf_plot[\"age_bin\"] = cut(df_plot$Vict.Age, c(0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95, 100), c('0-5', '6-10', '11-15', '16-20', '21-25','26-30','31-35','36-40','41-45','46-50','51-55','56-60','61-65','66-70','71-75','76-80','81-85','86-90','91-95','96-100'), include.lowest=TRUE) #binning the ages into bins\nlibrary(tidyverse)\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\nCode\nggplot(df_plot, aes(x=Vict.Age)) + \n  geom_histogram(binwidth=5, color=\"darkblue\", fill=\"cornflowerblue\", breaks=c(0,5,10,15,20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95, 100))+\n  labs(title=\"Histogram of Victim Age\",x=\"Victim Age\", y = \"Count\")+\n  theme(plot.title = element_text(hjust=0.5))+\n  scale_y_continuous(labels = scales::comma) #so that the y axis has readable y ticks\n\n\n\n\n\nFrom the above plot, we can observe that the maximum number of crimes occur against people in the 25-30 age group, and the least committed against very young children below 10.and elder people over the age of 80. In general, young adults are more susceptible to crime as expected, since they are by themselves most of the time in public spaces or in dangerous situations due to the circumstances of work, etc. The twenties seem to be the target age group for most crimes in LA."
  },
  {
    "objectID": "results.html#stay-off-the-premises",
    "href": "results.html#stay-off-the-premises",
    "title": "3  Results",
    "section": "3.2 Stay off the Premises!",
    "text": "3.2 Stay off the Premises!\nOn observation, there are 304 Unique premises where crimes take place in our dataframe such as malls, parking lots, MTA railway lines, etc. We will first limit ourselves to the top 6 most frequent premises, and observe whether they form clusters etc through a Biplot visualization where the continuous features of Victim age, Time of Occurrence, Latitude and Longitude are the axes and the graph is drawn on the decomposed version using PCA.\n\n\nCode\ndf_premise=df_plot[df_plot$Premis.Desc %in% c('SINGLE FAMILY DWELLING', 'STREET', 'MULTI-UNIT DWELLING (APARTMENT, DUPLEX, ETC)','SIDEWALK','VEHICLE, PASSENGER/TRUCK'), ] #filtering only the top 6 premises\ndf_premise$Time.of.Occurrence &lt;- as.numeric(substr(df_premise$Time.of.Occurrence, 1, 2)) * 100 +\n                          as.numeric(substr(df_premise$Time.of.Occurrence, 4, 5)) #so that we can work with a continuous variable, since right now it is categorical\nlibrary(redav)\ndf_premise&lt;-df_premise %&gt;%\n  group_by(Premis.Desc) %&gt;%\n  summarise(Time.of.Occurrence = mean(Time.of.Occurrence), Vict.Age = mean(Vict.Age),LAT=mean(LAT), LON=mean(LON)) #for ease of biplot plotting, we compute the mean of each feature\n\n\n\n\nCode\ndf_premise&lt;-subset(df_premise, select=c('Time.of.Occurrence','Vict.Age','Premis.Desc','LON','LAT'))\ndraw_biplot(df_premise, arrows=TRUE,\"Vict.Age\" ) +  #the age axis is calibrated\n  theme_bw()+\n  labs(title=\"Biplot to visualize Premise details\")+\n  theme(plot.title = element_text(hjust=0.5))\n\n\n\n\n\nFrom the above Biplot, we are able to visualize how different premises compare to each other on the basis of the four continuous features: LAT (Latitude), LON (Longitude), Time of Occurrence, and Victim Age. On observation, we can see that the elder people (42 years old) are more at risk to crime in single family dwellings whereas the sidewalk is most risky for comparatively younger people. As for the time of occurrence, since the arrow points in the southeast direction, the street projection lies at the latest time, and is hence most dangerous to walk at night (eg. robbery, chain snatching at night is easier), with dwellings being safer in that regard."
  },
  {
    "objectID": "results.html#society-and-crime",
    "href": "results.html#society-and-crime",
    "title": "3  Results",
    "section": "3.3 Society and Crime",
    "text": "3.3 Society and Crime\nA major goal of our project is aiming to understand the relation between victim sex, victim descent, and the likelihood that given these two features of a person, that crime occurs against them. For this, we will plot a stacked bar chart to see both at the same time, and the proportions that each descent has with respect to sex in our dataset.\n\n\nCode\ndf_sand&lt;-df_plot\ndf_sand&lt;-df_sand %&gt;%\n  group_by(Vict.Descent, Vict.Sex) %&gt;%\n  summarise(count=n(),\n            .groups = 'drop') #groupby descent and sex, and count the total in each combo\ndf_sand$Vict.Descent=factor(df_sand$Vict.Descent, levels=c('H','W','B','A','O')) #reordering the factor levels in decreasing order of freq\nggplot(df_sand, aes(fill=Vict.Sex, y=count, x=Vict.Descent)) + \n    geom_bar(position=\"stack\", stat=\"identity\")+\n  labs(title=\"Crime count per descent for each sex\",x=\"Victim Descent\", y = \"Count\")+\n  theme(plot.title = element_text(hjust=0.5))+\n  scale_y_continuous(labels = scales::comma)+\n   scale_fill_manual(values=c('cornflowerblue', 'pink'))+\n  scale_x_discrete(labels=c('Hispanic', 'White', 'Black', 'Asian','Other')) #labeling with meaningful names\n\n\n\n\n\nObserving the above stacked bar chart, firstly we notice that most crimes occur against victims of Hispanic descent, and the least against Asians. The ‘Other’ category consists of all the other descents that we grouped during the cleaning stage of our dataset. The proportion of female and males per descent appears to be mostly equal, however there are more crimes that occur against Black females than males, and less to white females than males."
  },
  {
    "objectID": "results.html#weapon-usage-and-crimes-of-sexual-nature",
    "href": "results.html#weapon-usage-and-crimes-of-sexual-nature",
    "title": "3  Results",
    "section": "3.4 Weapon Usage and Crimes of Sexual Nature",
    "text": "3.4 Weapon Usage and Crimes of Sexual Nature\n[Trigger warning: This portion focuses on crimes involving sexual abuse and rape]\nObserving the column of Weapon.Used.Desc, we notice that there are either entries present or they are left blank (which we take to be no weapon used since there is a entry for ‘Unknown’ weapons present in the column already). Hence, we would like to study how the usage of a weapon in the crime depends on the nature of the crime, with us focusing on crimes of sexual nature (that includes rape, sexual abuse, etc). We first filter out such crimes, and then plot the following mosaic plot to understand the association that victim sex, whether it is a crime of sexual nature or not, and the weapon used classification have between them, if any.\n\n\nCode\ndf_weapon&lt;-df_plot\ndf_weapon$weapon_used &lt;- ifelse(df_weapon$Weapon.Used.Cd &gt; 0, \"Yes\", \"No\") #making a new column based on the original one\n\ndf_weapon&lt;- subset(df_weapon, Crm.Cd.Desc != \"INCEST (SEXUAL ACTS BETWEEN BLOOD RELATIVES)\"&Crm.Cd.Desc != \"BEASTIALITY, CRIME AGAINST NATURE SEXUAL ASSLT WITH ANIM\") #rare instances, we do not consider these entries\ndf_weapon$CrimeSexualNature &lt;- ifelse(grepl(\"sex|rape\", df_weapon$Crm.Cd.Desc, ignore.case = TRUE), \"Yes\", \"No\")\nlibrary(grid)\nicecreamcolors &lt;- c(\"#cc9966\", \"lightgreen\")\nvcd::mosaic(weapon_used~ Vict.Sex+ CrimeSexualNature, df_weapon,\n            direction = c(\"v\",\"v\" ,\"h\"),\n            highlighting_fill = icecreamcolors)\n\n\n\n\n\nFrom the above mosaic plot, we observe that when the crime is of a sexual nature, there are more crimes occurring against females than males, and for the ones against females, majority of them occur with a weapon being used against the victim. Otherwise, the proportion of crimes that use and do not use weapons are equally distributed amongst male and female for crimes of not sexual nature."
  },
  {
    "objectID": "results.html#weapon-usage-and-age-category-of-victim",
    "href": "results.html#weapon-usage-and-age-category-of-victim",
    "title": "3  Results",
    "section": "3.5 Weapon Usage and Age category of Victim",
    "text": "3.5 Weapon Usage and Age category of Victim\nTo understand the association of weapon usage with victim age groups and victim sex, we plot a mosaic plot. The ages have been divided into three categories: ‘Child’ comprising of individuals of age less than or equal to 18 years, ‘Young Adult’ comprising of individuals of age 19 to 34 years, and ‘Old Adult’ comprising of ages 35 plus years.\n\n\nCode\ndf_weapon$Victim_Age &lt;- case_when(  df_weapon$Vict.Age &lt;= 18 ~ 'Child',  between(df_weapon$Vict.Age, 19, 34) ~ 'Young Adult', df_weapon$Vict.Age &gt;= 35 ~ 'Old Adult') #classifying ages into three categories\ndf_weapon &lt;- df_weapon %&gt;% filter(Victim_Age=='Child'| Victim_Age=='Young Adult'|Victim_Age=='Old Adult') \ndf_weapon$Victim_Age=factor(df_weapon$Victim_Age, levels=c('Child','Young Adult','Old Adult'))\nicecreamcolors2 &lt;- c (\"#cc9966\", \"lightgreen\")\nvcd::mosaic(weapon_used~ Vict.Sex+Victim_Age , df_weapon,\n            direction = c(\"v\",\"v\",\"h\"),\n             highlighting_fill = icecreamcolors2) #mosaic plot, wre the weapon used is the dependent variable\n\n\n\n\n\nFrom the above mosaic plot, we observe that crimes against children are where weapons are most used, leading to the consideration that it may be because children usually are defenseless victims and are unaware of their surroundings. For adults, both young and old, crimes occur without a weapon majorly. There are also more female child victims than male, but more male old adult victims than female."
  },
  {
    "objectID": "results.html#crime-coordinate-system",
    "href": "results.html#crime-coordinate-system",
    "title": "3  Results",
    "section": "3.6 Crime Coordinate System",
    "text": "3.6 Crime Coordinate System\nTo study the spatial variation of crime occurrences and try to understand which areas in Los Angeles are most susceptible to crime, we firstly proceed by removing the rows that have 0 as LON or LAT, since that was a preprocessing done by the dataset providers when the longitude and latitude was not identified. After this, we move on to bin the crime instances into 30 hex bins, and observe the spatial distribution of crimes in the form of a heat map.\n\n\nCode\ndf_area &lt;- df_plot %&gt;% filter(LON != 0 | LAT != 0)  #excluding these entries\nggplot() +\n  geom_hex(data=df_area, #hexmap\n           mapping = aes(x=LON, y=LAT), bins=30, color=\"black\")+\n  scale_fill_fermenter(n.breaks=10,palette = \"viridis\")+\n  theme_void()+\n  labs(title=\"Spatial variation of crime occurrence\")+\n  theme(plot.title = element_text(hjust=0.5))\n\n\nWarning: Unknown palette: \"viridis\"\n\n\n\n\n\nFrom the above map, we observe that eastern and slightly central LA have higher cases of crime occurring than the left and south parts of LA. Comparing this heatmap to an actual land map (See here for land map ), in particular the areas of South and Downtown LA are high-crime areas, with more than 10,000 cases occurring in that bin over three years."
  },
  {
    "objectID": "results.html#reporting-crime-and-its-consequences",
    "href": "results.html#reporting-crime-and-its-consequences",
    "title": "3  Results",
    "section": "3.7 Reporting Crime and its Consequences",
    "text": "3.7 Reporting Crime and its Consequences\nTo investigate this aspect of crime involving fear or shame of a victim in reporting crime, we will plot an Alluvial diagram that represents the flow of crime instances across Victim Sex, the difference in date reported and date occurred of the crime, and the status of the crime that was reported (whether the investigation is still continuing or the adult has been arrested). Due to less cases in juvenile perpetrators and unknowns and the ambiguity of ‘Adult Other’ category, we will focus only on the two categories of status of crime. The difference in dates reported have been classified into three options: Instant (where the crime is instantly reported on the same exact day as committed), 1 year (when the difference is less than 365 days), and 2 years (when the difference is less than 730 days but more than a year).\n\n\nCode\ndf_diff&lt;-df_plot\ndf_diff$difference&lt;-as.Date(df_diff$Date_Reported)-as.Date(df_diff$Date_Occurred) #to get the difference in number of days\ndf_diff$difference &lt;- as.numeric(df_diff$difference)\n#categorizing the differences\ndf_diff$difference[df_diff$difference==0 ]&lt;-'Instant'\ndf_diff$difference[df_diff$difference&gt;0 & df_diff$difference&lt;=365]&lt;-'Within 1 year'\ndf_diff$difference[df_diff$difference&gt;=366 & df_diff$difference&lt;=730]&lt;-'Within 2 years'\ndf_diff &lt;- df_diff %&gt;% filter(difference=='Instant'| difference=='Within 1 year'|difference=='Within 2 years') \ndf_diff &lt;- df_diff %&gt;% filter(Status.Desc=='Adult Arrest'|Status.Desc=='Invest Cont') \ndf_diff&lt;-df_diff %&gt;%\n  group_by(Vict.Sex,Status.Desc,difference) %&gt;%\n  summarise(count=n(),\n            .groups = 'drop')\n\n\n\n\nCode\nlibrary(ggalluvial)\nggplot(df_diff, aes(axis1 =Vict.Sex , axis2 = difference, axis3 = Status.Desc, y = count)) +\n  geom_alluvium(color='black') +\n  geom_stratum() +\n  geom_text(stat = \"stratum\", aes(label = paste(after_stat(stratum), \"\\n\"))) +\n  scale_x_discrete(limits = c(\"Sex\", \"Time taken to report\", \"Current status\"))+\n  scale_y_continuous(labels = scales::comma)+\n  labs(title=\"Alluvial diagram\")+\n  theme(plot.title = element_text(hjust=0.5))\n\n\n\n\n\nCode\n#the alluvial plot wil have the axis as the categorical vars\n\n\nFrom the above alluvial diagram, on observing the flow from victim sex all the way to the end which is the status of the crime, we notice that firstly most of the adult arrests status crimes have resulted when the crime was reported instantly and very few result from those that have been reported 1-2 years after the crime (giving us some idea on the importance of immediate evidence needed in most cases). Mostly all cases reported after a year have their investigation still continuing. Secondly, out of all the Female victims, less than half report instantly, and the rest take more time than that, whereas it is the opposite for male victims where more than half report instantly."
  },
  {
    "objectID": "results.html#masks-covid-19-or-burglar-disguise",
    "href": "results.html#masks-covid-19-or-burglar-disguise",
    "title": "3  Results",
    "section": "3.8 Masks: Covid-19 or Burglar Disguise?",
    "text": "3.8 Masks: Covid-19 or Burglar Disguise?\nTaking advantage of the fact that we have a dataset that comprises of crime across years 2020 to present (2023), we will attempt to understand the affect the pandemic had on crime in LA. To do so, we plot a faceted time series plot across each year from 2020 to 2023 (which ends in November since we downloaded the dataset in November), and observe the crime count for each month extracted from the Date of occurrence column.\n\n\nCode\ndf_covid&lt;-df_plot\ndf_covid$Year_Occurred&lt;-lubridate::year(df_covid$Date_Occurred) #use lubridate to extract the year from the date class\ndf_covid$Month_Occurred&lt;-lubridate::month(df_covid$Date_Occurred)#use lubridate to extract the month from the date class\ndf_covid&lt;-df_covid %&gt;%\n  group_by(Year_Occurred,Month_Occurred) %&gt;% #groupby the year and month so that the line plot is at same points on months\n  summarise(total_per_month=n(),\n            .groups = 'drop')\n\n\n\n\nCode\nggplot(df_covid, aes(Month_Occurred, total_per_month)) +  \n    geom_line(color = 'blue', breaks=c(1,2,3,4,5,6,7,8,9,10,11,12)) + geom_point(size = 1) +  \n    facet_wrap(.~Year_Occurred,ncol=1)+\n  labs(title=\"Yearly trend in crime\",x=\"Month\", y = \"Total Count\")+\n  theme(plot.title = element_text(hjust=0.5))+\n  scale_x_discrete(name =\"Month\", \n                    limits=c('Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'))\n\n\nWarning in geom_line(color = \"blue\", breaks = c(1, 2, 3, 4, 5, 6, 7, 8, :\nIgnoring unknown parameters: `breaks`\n\n\n\n\n\nWe observe that for the first part of 2020, there is crime count of more than 10,000 and a slight decrease, but from March onwards there is no significant change in the trend which may be because the pandemic was a very uncertain time at the beginning when nobody left their houses. Such situations would mean that there would be less robberies and crime occurring because of lack of people to attack in public spaces. In 2021, the trend is continued at the beginning, but then rises significantly and is at an all time high in 2022 where we faced the second wave of the pandemic. This period of time was chaotic and people were desperate for resources and food given the shortages in many parts of the US. This may be a reason for this rise, where cases are above 14,000 for the majority of 2022. Then, in 2023, there are less cases that occurred, however since we are in the current year, it may be that people have not reported the crimes yet and hence there are less entries in the 2023 year."
  },
  {
    "objectID": "results.html#nocturnal-nature-of-crime",
    "href": "results.html#nocturnal-nature-of-crime",
    "title": "3  Results",
    "section": "3.9 Nocturnal Nature of Crime",
    "text": "3.9 Nocturnal Nature of Crime\nCurious to verify whether most crime instances occur when it is dark outside and at nightfall when the security is at low task force, we plot a histogram of the time of occurrence of crime, binning the time into hours. Hour 1 corresponds to 12:00 am midnight to 1:00 am, and Hour 24 corresponds to 11:00pm to 12:00 am.\n\n\nCode\n#plotting histogram\ndf_night&lt;-df_plot\ndf_night$Time.of.Occurrence &lt;- as.numeric(substr(df_night$Time.of.Occurrence, 1, 2)) * 100 +\n                          as.numeric(substr(df_night$Time.of.Occurrence, 4, 5))\ndf_night[\"time_bin\"] = cut(df_night$Time.of.Occurrence, c(0, 100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800, 1900, 2000, 2100, 2200, 2300, 2400), c('1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24'), include.lowest=TRUE)\nggplot(df_night, aes(x=time_bin)) + \n  geom_histogram( stat='count', color=\"darkblue\", fill=\"cornflowerblue\")+\n  labs(title=\"Histogram of Crime count\",x=\"Hour of the day\", y = \"Count\")+\n  theme(plot.title = element_text(hjust=0.5))\n\n\nWarning in geom_histogram(stat = \"count\", color = \"darkblue\", fill =\n\"cornflowerblue\"): Ignoring unknown parameters: `binwidth`, `bins`, and `pad`\n\n\n\n\n\nAs expected, there is a dip in the crime committed during the early hours of the morning (from 3 AM to 7 AM), after which crime instances continuously rise and stay at that range till 10 PM. The hour before midnight sees a dip in crime, but then after midnight, the crime peaks to around 35,000 total counts (which is the second highest amount throughout the day). An anomaly we notice is clearly the huge peak in time of occurrence of crime at noon, which we also suspect could be because of lack of reporting time in some crime cases, for which the police department may enter 12:00 as the dummy time, and hence it falls in this bin."
  },
  {
    "objectID": "results.html#mta-most-terrifying-automobile-lines",
    "href": "results.html#mta-most-terrifying-automobile-lines",
    "title": "3  Results",
    "section": "3.10 MTA (Most Terrifying Automobile) lines?",
    "text": "3.10 MTA (Most Terrifying Automobile) lines?\n\n\nCode\ndf_mta&lt;-df_plot\ndf_mta &lt;- df_mta %&gt;%\n  filter(sapply(strsplit(as.character(df_mta$Premis.Desc), \" \"), function(x) x[1] == 'MTA'))\ndf_mta &lt;- df_mta %&gt;% filter(Premis.Desc!='MTA BUS'& Premis.Desc!='MTA PROPERTY OR PARKING LOT') #filtering out the MTA line premises\n\ngetFirstFewWords &lt;- function(text, n = 3) { #to extract the line color from the premis\n  words &lt;- strsplit(text, \" \")[[1]]\n  paste(words[1:n], collapse = \" \")\n}\n\n# Apply the function to create a new column\ndf_mta &lt;- df_mta %&gt;%\n  mutate(railline = sapply(Premis.Desc, getFirstFewWords)) #grouping all colors together\ndf_mta&lt;-df_mta %&gt;%\n  group_by(railline) %&gt;%\n  summarise(count=n(),\n            .groups = 'drop')\n\n\nOn observation of the unique values of crimes occurring on the MTA lines, there are the following color lines: Orange, Purple, Green, Blue, Red, Silver, Expo, Gold and the Bus and Parking Lot. We remove those that occur in the Bus and Parking Lot, since we want to concentrate on the railway line. Also, the MTA bus has the highest cases of crime occurring, and appears to be an outlier when we plot the Cleveland Dot plot, so for better visualization, we focus on the railways.\n\n\nCode\ncustom_colors &lt;- c(\"MTA - RED\" = \"red\", \"MTA - BLUE\" = \"blue\", \"MTA - GREEN\" = \"green\", \"MTA - GOLD\" = \"gold\",\"MTA - SILVER\" = \"grey\", \"MTA - PURPLE\" = \"purple\", \"MTA - ORANGE\" = \"orange\", \"MTA - EXPO\" = \"black\") #color coding the lines\n\nggplot(df_mta, aes(x = count, y = fct_reorder(railline, count))) +\n  geom_point(size = 3, color = custom_colors[df_mta$railline]) +\n  scale_color_manual(values = custom_colors) +\n  labs(title=\"Crime count for each MTA line\",x=\"Count\", y = \"MTA line\")+\n  theme(plot.title = element_text(hjust=0.5), legend.position = \"none\" )\n\n\n\n\n\nFrom the above Cleveland dot plot, we can infer that the Red line is the most dangerous in terms of number of crimes occurring throughout the dataset. This maybe because it is the most frequently used, or is not properly monitored with inefficient security resources. The line of least crime occurrences is the silver one. The red line has over 2000 crimes that occurred on it in the past three years, whereas the others have less than 1000 crimes at their locations, pointing out a great difference in the MTA lines."
  },
  {
    "objectID": "d3graph.html",
    "href": "d3graph.html",
    "title": "4  Interactive graph",
    "section": "",
    "text": "Safety Checker!\n\n\nCheck Your Safety According to the Hour\n\nPlease select the 12-hour time of your choice\n\n  AM  PM\n\nProbability of crime being committed based on sex during the selected hour:"
  },
  {
    "objectID": "conclusion.html#main-takeaways-from-our-exploration",
    "href": "conclusion.html#main-takeaways-from-our-exploration",
    "title": "5  Conclusion",
    "section": "5.1 Main takeaways from our exploration",
    "text": "5.1 Main takeaways from our exploration\nExploring the Crime In LA dataset showed us how we could utilize R and D3 to effectively note aspects of a dataset related to crime, involving distributions, associations, time series, and spatial patterns. We observed that the ages of 20-30 years are where most victims of crime in LA hold, that Hispanics are most susceptible to crime, that females take longer to file a report than males majorly, and that the Vovid pandemic did have an effect on crime in LA. We also observed how the red MTA line was where most crime occurred out of all lines, and that the late hours of the night was when most crime occurred, as we expect."
  },
  {
    "objectID": "conclusion.html#limitations",
    "href": "conclusion.html#limitations",
    "title": "5  Conclusion",
    "section": "5.2 Limitations",
    "text": "5.2 Limitations\nThe limitations of our project involve the short length of the time period our dataset covers (only from 2020-2023), so that we could not explore long term time-series graphs and trends. Secondly, our exploration involves cleaning the data as per our interpretation, which included removing victims that did not identify as Female/Male. Also, we do not have the proportion of populations in terms of descent and geographical location, which limits our ability to make conclusive statements about our bar chart of crime count vs descent and the spatial map, since a higher crime count might be because the population of that group/ location is high."
  },
  {
    "objectID": "conclusion.html#lessons-learned",
    "href": "conclusion.html#lessons-learned",
    "title": "5  Conclusion",
    "section": "5.3 Lessons learned",
    "text": "5.3 Lessons learned\nOur EDAV project taught us how to practice the theory that we learned in class to a real-world dataset that contains problems such as missing values and dummy entries. We understood that version control using Git is a very useful and necessary tool when collaborating with teammates on a project. We learned the importance of choosing the correct visualization to accurately display data, while also staying true to the narrative we are trying to depict. We also realized the usage of effective interactivity to elevate the user experience."
  },
  {
    "objectID": "conclusion.html#future-directions",
    "href": "conclusion.html#future-directions",
    "title": "5  Conclusion",
    "section": "5.4 Future directions",
    "text": "5.4 Future directions\nFor our project, we aim to further exploring relations between features present in our data that we did not perform such as the Geographical area (West, East, etc.). We also look forward to making our code more reproducible to other states in the United States, so that a modular code can be written and run for any state’s dataset for ease of analyzing crime. Additionally, we would like to perform predictive analytics and predict the likelihood of crime occurring given a person’s details."
  }
]